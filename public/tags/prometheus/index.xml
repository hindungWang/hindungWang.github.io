<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Prometheus on Hindung's Blog</title><link>https://hindung.cn/tags/prometheus/</link><description>Recent content in Prometheus on Hindung's Blog</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Fri, 01 Sep 2023 09:40:50 +0000</lastBuildDate><atom:link href="https://hindung.cn/tags/prometheus/index.xml" rel="self" type="application/rss+xml"/><item><title>Prometheus性能压测与高可用设计</title><link>https://hindung.cn/posts/prometheus_test/</link><pubDate>Fri, 01 Sep 2023 09:40:50 +0000</pubDate><guid>https://hindung.cn/posts/prometheus_test/</guid><description>Prometheus性能压测与高可用设计 Prometheus原理 名词 Series（系列） 是指具有相同标签集的一组时间序列。它们是根据标签的组合唯一确定的。&amp;lt;指标名称&amp;gt;{&amp;lt;标签键&amp;gt;=&amp;lt;标签值&amp;gt;, ...}，如：
|&amp;lt;------------------------Series--------------------------&amp;gt;| avalanche_metric_0_0{cycle_id=&amp;quot;0&amp;quot;,label_key_0=&amp;quot;label_val_0&amp;quot;} 18 Sample（样本） 是指一个数据点，它包含了一个时间戳和相应的数值。样本是 Prometheus 时间序列数据的基本单位。每个样本都与一个唯一的时间序列(Series)标识符相关联，该标识符由一组键值对（标签）唯一确定。这些标签可以用来标识和区分不同的时间序列。&amp;lt;时间戳&amp;gt; &amp;lt;数值&amp;gt;，如：
|&amp;lt;------------------------------Series--------------------&amp;gt;|&amp;lt;--时间戳-&amp;gt;|&amp;lt;值&amp;gt; avalanche_metric_0_0{cycle_id=&amp;quot;0&amp;quot;,label_key_0=&amp;quot;label_val_0&amp;quot;} @125465645 2 -&amp;gt; 一个Sample @125465646 5 ... Prometheus缺点 原生Prometheus并不支持高可用，也不能做横向扩缩容，当集群规模较大时，单一Prometheus会出现性能瓶颈，无法正常采集数据。
在集群场景下 单一Prometheus只能查询本地的指标，而不能跨区域查询，因此需要一个统一的管理。
单节点Prometheus性能压测 压测环境 garden v3.2 3节点环境:
节点 CPU(Core) Memory(GiB) 存储 IOPS 写速率(1MB) master01 8 16GiB 280GiB 261 10.6 MB/s master02 8 24GiB 280GiB 238 9.6 MB/s master03(Prometheus所在节点) 8 24GiB 280GiB 274 9.5 MB/s 组件版本：</description></item><item><title>Prometheus GO SDK</title><link>https://hindung.cn/posts/prometheus_sdk/</link><pubDate>Wed, 19 Jul 2023 17:39:52 +0000</pubDate><guid>https://hindung.cn/posts/prometheus_sdk/</guid><description>Prometheus GO SDK 1. 介绍Prometheus Prometheus 是由前 Google 工程师从 2012 年开始在 Soundcloud 以开源软件的形式进行研发的系统监控和告警工具包，自此以后，许多公司和组织都采用了 Prometheus 作为监控告警工具。Prometheus 的开发者和用户社区非常活跃，它现在是一个独立的开源项目，可以独立于任何公司进行维护。
Prometheus生态有很多丰富的组件以及SDK。其中常见的组合是 SDK + Prometheus + Alert Manager + Grafana + Loki。
2. Prometheus Go客户端库概述 Github地址：https://github.com/prometheus/client_golang
. ├── api │ └── prometheus ├── examples # 官方例子 │ ├── exemplars │ ├── gocollector │ ├── middleware │ ├── random │ └── simple ├── prometheus # 核心代码定义各种指标接口、结构等 │ ├── collectors # 定义收集器等 │ ├── graphite # 设计模式相关 │ ├── internal # 内部实现 │ ├── promauto # 与Prometheus实例之间维护一个全局注册表，用于维护指标信息 │ ├── promhttp # 通过 HTTP 服务暴露出来的方法集合 │ ├── push # 推送指标到Prometheus相关的包 │ └── testutil # test相关的 3.</description></item></channel></rss>