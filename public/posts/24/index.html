<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Kubernetes 命令行速记"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:title" content="Kubectl命令行"><meta property="og:description" content="Kubernetes 命令行速记"><meta property="og:type" content="article"><meta property="og:url" content="http://hindung.cn/posts/24/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-06-01T00:00:00+00:00"><meta property="article:modified_time" content="2021-06-01T00:00:00+00:00"><title>Kubectl命令行 | Hindung Blogs</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png><link rel=stylesheet href=/book.scss integrity crossorigin=anonymous><script defer src=/flexsearch.min.js></script>
<script defer src=/en.search.min.babd2f636c40f8c2a90eb07eec05db5d5b170c6461306029c9a468cc2daf879d.js integrity="sha256-ur0vY2xA+MKpDrB+7AXbXVsXDGRhMGApyaRozC2vh50=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>Hindung Blogs</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Kubectl命令行</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#kubectl命令行全景图>kubectl命令行全景图</a></li><li><a href=#有趣的kubectl命令>有趣的kubectl命令</a><ul><li><a href=#获取正在running的pod>获取正在Running的Pod</a></li><li><a href=#查看节点内存容量>查看节点内存容量</a></li><li><a href=#查看各个节点上的pod数量>查看各个节点上的Pod数量</a></li><li><a href=#查看pod以及镜像>查看POD以及镜像</a></li><li><a href=#查看各个节点上的pod>查看各个节点上的POD</a></li><li><a href=#查看pod占用的内存和cpu并按内存或者cpu排序>查看Pod占用的内存和CPU并按内存或者CPU排序</a></li><li><a href=#获取重启次数降序排序的pod>获取重启次数降序排序的Pod</a></li><li><a href=#获得所有pod的request和limits>获得所有POD的request和limits</a></li><li><a href=#获取节点的ip>获取节点的IP</a></li><li><a href=#获取service的nodeport信息>获取Service的Nodeport信息</a></li><li><a href=#获取pod网段>获取POD网段</a></li><li><a href=#输出一个pod中所有的容器的日志>输出一个POD中所有的容器的日志</a></li><li><a href=#按标签输出pod的日志>按标签输出POD的日志</a></li><li><a href=#获取前一个容器的日志容器异常挂掉的场景>获取前一个容器的日志（容器异常挂掉的场景）</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1><a href=/posts/24/>Kubectl命令行</a></h1><h5>June 1, 2021</h5><div><a href=/tags/kubernetes/>Kubernetes</a></div><p><em>注：基于Kubenetes 版本：Server v1.17.2、Client v1.17.9</em></p><h2 id=kubectl命令行全景图>kubectl命令行全景图
<a class=anchor href=#kubectl%e5%91%bd%e4%bb%a4%e8%a1%8c%e5%85%a8%e6%99%af%e5%9b%be>#</a></h2><p><a href=https://hindung.oss-cn-beijing.aliyuncs.com/img/kubectl.png>kubectl🔗</a></p><h2 id=有趣的kubectl命令>有趣的kubectl命令
<a class=anchor href=#%e6%9c%89%e8%b6%a3%e7%9a%84kubectl%e5%91%bd%e4%bb%a4>#</a></h2><h3 id=获取正在running的pod>获取正在Running的Pod
<a class=anchor href=#%e8%8e%b7%e5%8f%96%e6%ad%a3%e5%9c%a8running%e7%9a%84pod>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl get pods -A --field-selector<span style=color:#f92672>=</span>status.phase<span style=color:#f92672>==</span>Running
</span></span><span style=display:flex><span>NAMESPACE     NAME                                     READY   STATUS    RESTARTS   AGE
</span></span><span style=display:flex><span>kelu          cka2-75dbf7c54-gm4r4                     1/1     Running   <span style=color:#ae81ff>0</span>          23h
</span></span><span style=display:flex><span>kube-system   calico-kube-controllers-ccf66db4-cpvqp   1/1     Running   <span style=color:#ae81ff>0</span>          3d20h
</span></span><span style=display:flex><span>kube-system   calico-node-8d4th                        1/1     Running   <span style=color:#ae81ff>0</span>          3d2h
</span></span><span style=display:flex><span>kube-system   calico-node-szmzb                        1/1     Running   <span style=color:#ae81ff>0</span>          3d20h
</span></span></code></pre></div><h3 id=查看节点内存容量>查看节点内存容量
<a class=anchor href=#%e6%9f%a5%e7%9c%8b%e8%8a%82%e7%82%b9%e5%86%85%e5%ad%98%e5%ae%b9%e9%87%8f>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl get no -o json |    jq -r <span style=color:#e6db74>&#39;.items | sort_by(.status.capacity.memory)[]|[.metadata.name,.status.capacity.memory]| @tsv&#39;</span>
</span></span><span style=display:flex><span>rq-bjptest01    3848040Ki
</span></span><span style=display:flex><span>rqinterntest2   7986060Ki
</span></span></code></pre></div><h3 id=查看各个节点上的pod数量>查看各个节点上的Pod数量
<a class=anchor href=#%e6%9f%a5%e7%9c%8b%e5%90%84%e4%b8%aa%e8%8a%82%e7%82%b9%e4%b8%8a%e7%9a%84pod%e6%95%b0%e9%87%8f>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl get po -o json --all-namespaces |  jq <span style=color:#e6db74>&#39;.items | group_by(.spec.nodeName) | map({&#34;nodeName&#34;: .[0].spec.nodeName, &#34;count&#34;: length}) | sort_by(.count)&#39;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;nodeName&#34;</span>: <span style=color:#e6db74>&#34;rq-bjptest01&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;count&#34;</span>: <span style=color:#ae81ff>3</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;nodeName&#34;</span>: <span style=color:#e6db74>&#34;rqinterntest2&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;count&#34;</span>: <span style=color:#ae81ff>8</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>kubectl get pods --all-namespaces -o json | jq <span style=color:#e6db74>&#39;.items[] | .spec.nodeName&#39;</span> -r | sort | uniq -c
</span></span><span style=display:flex><span>     <span style=color:#ae81ff>17</span> rqkubedev03
</span></span><span style=display:flex><span>     <span style=color:#ae81ff>30</span> rqkubedev04
</span></span><span style=display:flex><span>     <span style=color:#ae81ff>23</span> rqkubedev05
</span></span></code></pre></div><h3 id=查看pod以及镜像>查看POD以及镜像
<a class=anchor href=#%e6%9f%a5%e7%9c%8bpod%e4%bb%a5%e5%8f%8a%e9%95%9c%e5%83%8f>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl get pods -o custom-columns<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;NAME:metadata.name,IMAGES:spec.containers[*].image&#39;</span>
</span></span><span style=display:flex><span>NAME                              IMAGES
</span></span><span style=display:flex><span>details-v1-5974b67c8-gqz94        docker.io/istio/examples-bookinfo-details-v1:1.16.2,docker.io/istio/proxyv2:1.7.2
</span></span><span style=display:flex><span>gitea-5bb577b964-w64gg            harbor.caih.local/gitea/gitea:1.10.1
</span></span><span style=display:flex><span>productpage-v1-64794f5db4-hw2fl   docker.io/istio/examples-bookinfo-productpage-v1:1.16.2,docker.io/istio/proxyv2:1.7.2
</span></span></code></pre></div><h3 id=查看各个节点上的pod>查看各个节点上的POD
<a class=anchor href=#%e6%9f%a5%e7%9c%8b%e5%90%84%e4%b8%aa%e8%8a%82%e7%82%b9%e4%b8%8a%e7%9a%84pod>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl get pods --all-namespaces -o json | jq <span style=color:#e6db74>&#39;.items | map({podName: .metadata.name, nodeName: .spec.nodeName}) | group_by(.nodeName) | map({nodeName: .[0].nodeName, pods: map(.podName)})&#39;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;nodeName&#34;</span>: <span style=color:#e6db74>&#34;rqkubedev03&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;pods&#34;</span>: <span style=color:#f92672>[</span>
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;123-84654b5d8f-sm2dt&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;reviews-v2-6cb6ccd848-ndsqq&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;fleet-agent-6cc4bd5c67-b877w&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;jaeger-es-index-cleaner-1602806100-5ngzz&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;jaeger-es-index-cleaner-1602806100-b47gk&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;jaeger-es-index-cleaner-1602806100-kkx2z&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;jaeger-es-index-cleaner-1602806100-rg6z8&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#34;jaeger-es-index-cleaner-1602806100-s47n4&#34;</span>,
</span></span></code></pre></div><h3 id=查看pod占用的内存和cpu并按内存或者cpu排序>查看Pod占用的内存和CPU并按内存或者CPU排序
<a class=anchor href=#%e6%9f%a5%e7%9c%8bpod%e5%8d%a0%e7%94%a8%e7%9a%84%e5%86%85%e5%ad%98%e5%92%8ccpu%e5%b9%b6%e6%8c%89%e5%86%85%e5%ad%98%e6%88%96%e8%80%85cpu%e6%8e%92%e5%ba%8f>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 内存</span>
</span></span><span style=display:flex><span>kubectl top pods -A | sort --reverse --key <span style=color:#ae81ff>4</span> --numeric
</span></span><span style=display:flex><span>caihcloud              jenkinsm-6fc5d7fc46-2tl6q                            29m          1995Mi
</span></span><span style=display:flex><span>istio-system           prometheus-788c945c9c-mdrjf                          97m          1424Mi
</span></span><span style=display:flex><span>kube-system            kube-apiserver-rqkubedev04                           149m         957Mi
</span></span><span style=display:flex><span>kube-system            kube-apiserver-rqkubedev03                           69m          476Mi
</span></span><span style=display:flex><span>caihcloud              jenkinsslaveswarm-6c6f5d8d9b-8ns5w                   2m           464Mi
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># CPU</span>
</span></span><span style=display:flex><span>kubectl top pods -A | sort --reverse --key <span style=color:#ae81ff>3</span> --numeric
</span></span><span style=display:flex><span>kube-system            kube-apiserver-rqkubedev04                           150m         964Mi
</span></span><span style=display:flex><span>istio-system           prometheus-788c945c9c-mdrjf                          89m          1426Mi
</span></span><span style=display:flex><span>kube-system            kube-apiserver-rqkubedev03                           42m          532Mi
</span></span><span style=display:flex><span>kube-system            calico-node-6n65m                                    42m          46Mi
</span></span><span style=display:flex><span>kube-system            calico-node-fg6tk                                    34m          49Mi
</span></span></code></pre></div><h3 id=获取重启次数降序排序的pod>获取重启次数降序排序的Pod
<a class=anchor href=#%e8%8e%b7%e5%8f%96%e9%87%8d%e5%90%af%e6%ac%a1%e6%95%b0%e9%99%8d%e5%ba%8f%e6%8e%92%e5%ba%8f%e7%9a%84pod>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl get pods -A --sort-by<span style=color:#f92672>=</span>.status.containerStatuses<span style=color:#f92672>[</span>0<span style=color:#f92672>]</span>.restartCount | tac
</span></span><span style=display:flex><span>kube-system            kube-scheduler-rqkubedev03                           0/1     CrashLoopBackOff   <span style=color:#ae81ff>593</span>        2d2h
</span></span><span style=display:flex><span>traefik-v2             traefik-gfnw5                                        1/1     Running            <span style=color:#ae81ff>27</span>         23d
</span></span><span style=display:flex><span>kube-system            kube-controller-manager-rqkubedev03                  1/1     Running            <span style=color:#ae81ff>24</span>         23d
</span></span><span style=display:flex><span>kube-system            kube-controller-manager-rqkubedev04                  1/1     Running            <span style=color:#ae81ff>22</span>         23d
</span></span><span style=display:flex><span>kube-system            kube-apiserver-rqkubedev03                           1/1     Running            <span style=color:#ae81ff>21</span>         23d
</span></span><span style=display:flex><span>NAMESPACE              NAME                                                 READY   STATUS             RESTARTS   AGE
</span></span></code></pre></div><h3 id=获得所有pod的request和limits>获得所有POD的request和limits
<a class=anchor href=#%e8%8e%b7%e5%be%97%e6%89%80%e6%9c%89pod%e7%9a%84request%e5%92%8climits>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl get pods -A  -o custom-columns<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;NAME:metadata.name,MEM_REQUEST:spec.containers[*].resources.requests.memory,MEM_LIMIT:spec.containers[*].resources.limits.memory,CPU_REQUEST:spec.containers[*].resources.requests.cpu,CPU_LIMIT:spec.containers[*].resources.limits.cpu&#39;</span>       
</span></span><span style=display:flex><span>NAME                                                 MEM_REQUEST   MEM_LIMIT     CPU_REQUEST   CPU_LIMIT
</span></span><span style=display:flex><span>123-84654b5d8f-sm2dt                                 &lt;none&gt;        &lt;none&gt;        &lt;none&gt;        &lt;none&gt;
</span></span><span style=display:flex><span>backend-c56f64647-grql6                              10Mi          1Gi           10m           &lt;none&gt;
</span></span><span style=display:flex><span>caihcloud-67ffdf9fc9-wzmts                           10Mi          1Gi           10m           &lt;none&gt;
</span></span><span style=display:flex><span>caihcloud-ui-9fbb954dc-trtn7                         10Mi          1Gi           10m           &lt;none&gt;
</span></span><span style=display:flex><span>caihcloudm-caihcloudm-api-5cfffcc96-mz6pt            10Mi          1Gi           10m           200m
</span></span><span style=display:flex><span>caihcloudm-caihcloudm-api-5cfffcc96-xdwsb            10Mi          1Gi           10m           200m
</span></span></code></pre></div><h3 id=获取节点的ip>获取节点的IP
<a class=anchor href=#%e8%8e%b7%e5%8f%96%e8%8a%82%e7%82%b9%e7%9a%84ip>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl get nodes -o jsonpath<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;{range .items[*]}{.metadata.name} {.status.addresses[?(@.type==&#34;InternalIP&#34;)].address}{&#34;\n&#34;}{end}&#39;</span>
</span></span><span style=display:flex><span>rqkubedev03 10.19.0.57
</span></span><span style=display:flex><span>rqkubedev04 10.19.0.58
</span></span><span style=display:flex><span>rqkubedev05 10.19.0.59
</span></span></code></pre></div><h3 id=获取service的nodeport信息>获取Service的Nodeport信息
<a class=anchor href=#%e8%8e%b7%e5%8f%96service%e7%9a%84nodeport%e4%bf%a1%e6%81%af>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl get -A svc -o json | jq -r <span style=color:#e6db74>&#39;.items[] | [.metadata.name,([.spec.ports[].nodePort | tostring ] | join(&#34;|&#34;))]| @tsv&#39;</span>
</span></span><span style=display:flex><span>backend 23168|<span style=color:#ae81ff>20675</span>
</span></span><span style=display:flex><span>caihcloud       <span style=color:#ae81ff>37386</span>
</span></span><span style=display:flex><span>caihcloud-ui    <span style=color:#ae81ff>26105</span>
</span></span><span style=display:flex><span>caihcloudm-caihcloudm-api       <span style=color:#ae81ff>36236</span>
</span></span><span style=display:flex><span>caihcloudm-caihcloudm-prerender <span style=color:#ae81ff>31964</span>
</span></span></code></pre></div><h3 id=获取pod网段>获取POD网段
<a class=anchor href=#%e8%8e%b7%e5%8f%96pod%e7%bd%91%e6%ae%b5>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl get nodes -o jsonpath<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;{.items[*].spec.podCIDR}&#39;</span> | tr <span style=color:#e6db74>&#34; &#34;</span> <span style=color:#e6db74>&#34;\n&#34;</span>
</span></span><span style=display:flex><span>10.193.0.0/24
</span></span><span style=display:flex><span>10.193.1.0/24
</span></span><span style=display:flex><span>10.193.2.0/24
</span></span></code></pre></div><h3 id=输出一个pod中所有的容器的日志>输出一个POD中所有的容器的日志
<a class=anchor href=#%e8%be%93%e5%87%ba%e4%b8%80%e4%b8%aapod%e4%b8%ad%e6%89%80%e6%9c%89%e7%9a%84%e5%ae%b9%e5%99%a8%e7%9a%84%e6%97%a5%e5%bf%97>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl logs caihcloudm-caihcloudm-api-5cfffcc96-mz6pt -n caihcloud —all-containers
</span></span></code></pre></div><h3 id=按标签输出pod的日志>按标签输出POD的日志
<a class=anchor href=#%e6%8c%89%e6%a0%87%e7%ad%be%e8%be%93%e5%87%bapod%e7%9a%84%e6%97%a5%e5%bf%97>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl -n caihcloud logs -f -l app<span style=color:#f92672>=</span>caihcloudm-caihcloudm-api
</span></span></code></pre></div><h3 id=获取前一个容器的日志容器异常挂掉的场景>获取前一个容器的日志（容器异常挂掉的场景）
<a class=anchor href=#%e8%8e%b7%e5%8f%96%e5%89%8d%e4%b8%80%e4%b8%aa%e5%ae%b9%e5%99%a8%e7%9a%84%e6%97%a5%e5%bf%97%e5%ae%b9%e5%99%a8%e5%bc%82%e5%b8%b8%e6%8c%82%e6%8e%89%e7%9a%84%e5%9c%ba%e6%99%af>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl logs caihcloud-67ffdf9fc9-wzmts -n caihcloud --previous
</span></span></code></pre></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#kubectl命令行全景图>kubectl命令行全景图</a></li><li><a href=#有趣的kubectl命令>有趣的kubectl命令</a><ul><li><a href=#获取正在running的pod>获取正在Running的Pod</a></li><li><a href=#查看节点内存容量>查看节点内存容量</a></li><li><a href=#查看各个节点上的pod数量>查看各个节点上的Pod数量</a></li><li><a href=#查看pod以及镜像>查看POD以及镜像</a></li><li><a href=#查看各个节点上的pod>查看各个节点上的POD</a></li><li><a href=#查看pod占用的内存和cpu并按内存或者cpu排序>查看Pod占用的内存和CPU并按内存或者CPU排序</a></li><li><a href=#获取重启次数降序排序的pod>获取重启次数降序排序的Pod</a></li><li><a href=#获得所有pod的request和limits>获得所有POD的request和limits</a></li><li><a href=#获取节点的ip>获取节点的IP</a></li><li><a href=#获取service的nodeport信息>获取Service的Nodeport信息</a></li><li><a href=#获取pod网段>获取POD网段</a></li><li><a href=#输出一个pod中所有的容器的日志>输出一个POD中所有的容器的日志</a></li><li><a href=#按标签输出pod的日志>按标签输出POD的日志</a></li><li><a href=#获取前一个容器的日志容器异常挂掉的场景>获取前一个容器的日志（容器异常挂掉的场景）</a></li></ul></li></ul></nav></div></aside></main></body></html>